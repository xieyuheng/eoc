>> (program () (iadd x 1))
=> [#cons-c-program
    []
    [:begin [#return-seq [#prim-c-exp 'iadd [[#var-c-exp 'x] [#int-c-exp 1]]]]]]
>> (program () (iadd (iadd x 1) 1))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt
       [#var-c-exp '_₁]
       [#prim-c-exp 'iadd [[#var-c-exp 'x] [#int-c-exp 1]]]]
      [#return-seq [#prim-c-exp 'iadd [[#var-c-exp '_₁] [#int-c-exp 1]]]]]]]
>> (program () (let ((y (iadd x 1))) (iadd y 1)))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt
       [#var-c-exp 'y₁]
       [#prim-c-exp 'iadd [[#var-c-exp 'x] [#int-c-exp 1]]]]
      [#return-seq [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 1]]]]]]]
>> (program () (let ((y (iadd (iadd x 1) 1))) (iadd y 1)))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt
       [#var-c-exp '_₁]
       [#prim-c-exp 'iadd [[#var-c-exp 'x] [#int-c-exp 1]]]]
      [#cons-seq
       [#assign-stmt
        [#var-c-exp 'y₁]
        [#prim-c-exp 'iadd [[#var-c-exp '_₁] [#int-c-exp 1]]]]
       [#return-seq [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 1]]]]]]]]
>> (program () (let ((x 8)) (if (and e1 e2) (iadd x x) (imul x x))))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt [#var-c-exp 'x₁] [#int-c-exp 8]]
      [#branch-seq
       [#prim-c-exp 'eq? [[#var-c-exp 'e1] [#bool-c-exp #t]]]
       'begin.then.4
       'begin.else.3]]
     :begin.then.0
     [#return-seq [#prim-c-exp 'iadd [[#var-c-exp 'x₁] [#var-c-exp 'x₁]]]]
     :begin.else.1
     [#return-seq [#prim-c-exp 'imul [[#var-c-exp 'x₁] [#var-c-exp 'x₁]]]]
     :begin.then.2 [#goto-seq 'begin.then.0]
     :begin.else.3 [#goto-seq 'begin.else.1]
     :begin.then.4
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'e2] [#bool-c-exp #t]]]
      'begin.then.2
      'begin.else.3]]]
>> (program () (let ((x (random-dice))) (let ((y (random-dice))) (if (if (lt? x 1) (eq? x 0) (eq? x 2)) (iadd y 2) (iadd y 10)))))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt [#var-c-exp 'x₁] [#prim-c-exp 'random-dice []]]
      [#cons-seq
       [#assign-stmt [#var-c-exp 'y₁] [#prim-c-exp 'random-dice []]]
       [#branch-seq
        [#prim-c-exp 'lt? [[#var-c-exp 'x₁] [#int-c-exp 1]]]
        'begin.then.4
        'begin.else.5]]]
     :begin.then.0
     [#return-seq [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 2]]]]
     :begin.else.1
     [#return-seq [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 10]]]]
     :begin.then.2 [#goto-seq 'begin.then.0]
     :begin.else.3 [#goto-seq 'begin.else.1]
     :begin.then.4
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'x₁] [#int-c-exp 0]]]
      'begin.then.2
      'begin.else.3]
     :begin.else.5
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'x₁] [#int-c-exp 2]]]
      'begin.then.2
      'begin.else.3]]]
>> (program () (let ((x (random-dice))) (let ((y (random-dice))) (iadd (if (if (lt? x 1) (eq? x 0) (eq? x 2)) (iadd y 2) (iadd y 10)) (if (if (lt? x 1) (eq? x 0) (eq? x 2)) (iadd y 2) (iadd y 10))))))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt [#var-c-exp 'x₁] [#prim-c-exp 'random-dice []]]
      [#cons-seq
       [#assign-stmt [#var-c-exp 'y₁] [#prim-c-exp 'random-dice []]]
       [#branch-seq
        [#prim-c-exp 'lt? [[#var-c-exp 'x₁] [#int-c-exp 1]]]
        'begin.then.12
        'begin.else.13]]]
     :begin.let-body.0
     [#return-seq [#prim-c-exp 'iadd [[#var-c-exp '_₁] [#var-c-exp '_₂]]]]
     :begin.then.1
     [#cons-seq
      [#assign-stmt
       [#var-c-exp '_₂]
       [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 2]]]]
      [#goto-seq 'begin.let-body.0]]
     :begin.else.2
     [#cons-seq
      [#assign-stmt
       [#var-c-exp '_₂]
       [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 10]]]]
      [#goto-seq 'begin.let-body.0]]
     :begin.then.3 [#goto-seq 'begin.then.1]
     :begin.else.4 [#goto-seq 'begin.else.2]
     :begin.then.5
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'x₁] [#int-c-exp 0]]]
      'begin.then.3
      'begin.else.4]
     :begin.else.6
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'x₁] [#int-c-exp 2]]]
      'begin.then.3
      'begin.else.4]
     :begin.let-body.7
     [#branch-seq
      [#prim-c-exp 'lt? [[#var-c-exp 'x₁] [#int-c-exp 1]]]
      'begin.then.5
      'begin.else.6]
     :begin.then.8
     [#cons-seq
      [#assign-stmt
       [#var-c-exp '_₁]
       [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 2]]]]
      [#goto-seq 'begin.let-body.7]]
     :begin.else.9
     [#cons-seq
      [#assign-stmt
       [#var-c-exp '_₁]
       [#prim-c-exp 'iadd [[#var-c-exp 'y₁] [#int-c-exp 10]]]]
      [#goto-seq 'begin.let-body.7]]
     :begin.then.10 [#goto-seq 'begin.then.8]
     :begin.else.11 [#goto-seq 'begin.else.9]
     :begin.then.12
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'x₁] [#int-c-exp 0]]]
      'begin.then.10
      'begin.else.11]
     :begin.else.13
     [#branch-seq
      [#prim-c-exp 'eq? [[#var-c-exp 'x₁] [#int-c-exp 2]]]
      'begin.then.10
      'begin.else.11]]]
>> (program () (if (and (eq? (random-dice) 1) (eq? (random-dice) 2)) 0 42))
=> [#cons-c-program
    []
    [:begin
     [#cons-seq
      [#assign-stmt [#var-c-exp '_₁] [#prim-c-exp 'random-dice []]]
      [#branch-seq
       [#prim-c-exp 'eq? [[#var-c-exp '_₁] [#int-c-exp 1]]]
       'begin.then.4
       'begin.else.3]]
     :begin.then.0 [#return-seq [#int-c-exp 0]]
     :begin.else.1 [#return-seq [#int-c-exp 42]]
     :begin.then.2 [#goto-seq 'begin.then.0]
     :begin.else.3 [#goto-seq 'begin.else.1]
     :begin.then.4
     [#cons-seq
      [#assign-stmt [#var-c-exp '_₂] [#prim-c-exp 'random-dice []]]
      [#branch-seq
       [#prim-c-exp 'eq? [[#var-c-exp '_₂] [#int-c-exp 2]]]
       'begin.then.2
       'begin.else.3]]]]
